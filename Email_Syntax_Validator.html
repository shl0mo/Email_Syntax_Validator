<script>
	//Sintaxe permitida: nomeusuario@provedor.com

	//Retorna true se exisitir caracteres inválidos. A variável verify_server define se deve-se verificar os caracteres para o provedor (sendo true, nesse caso) ou se deve-se verificar o nomeusuaio (devendo ser setada para false, nesse caso)
	function invalidChars(string, verify_provider = false) {
		let i = 0
		for (i = 0; i < string.length; i++) {
			let char_ascii = string[i].charCodeAt(0)
			//Para o caso da verificação do nome do provedor, o hífen e o ponto serão permitidos dentre os caracteres especiais
			if (string[i] == '-' && verify_provider == true || string[i] == '.' && verify_provider == true) {
				continue
			}
			if (char_ascii < 48 || (char_ascii >= 58 && char_ascii <= 64) || (char_ascii >= 91 && char_ascii <= 96) || char_ascii > 123) {
				return true
			}
		}
		return false
	}

	function emailSintaxValidator() {
		let email = document.getElementById('email').value
		//Não pode começar com números
		if (!isNaN(email[0])) {
			return false
		}
		//Não deve conter dois pontos seguidos um do outro
		if (email.includes('..')) {
			return false
		}
		//Deve conter um '@' e um '.com'
		if (!email.includes('@') || !email.includes('.com')) {
			return false
		} else {
			let array_email = email.split('@')
			if (array_email.length > 2) {
				return false
			}
			let username = array_email[0]
			if (username == '' || array_email[1] == '') {
				return false
			}
			//O nomeusuario não deve apresentar caracteres inválidos
			if (invalidChars(username)) {
				return false
			}
			//O nome do provedor só pode apresentar o hífen e o ponto dentre os caractere especiais, como definido pela função
			let provider = array_email[1].split('.com')[0]
			if (invalidChars(provider, true)) {
				return false
			}
			//O domínio .com deve constituir os últimos caracteres do email
			array_email = email.split('.com')
			if (array_email[array_email.length - 1] != '') {
				return false
			}
		}
		return true
	}

	function verifyEmail () {
		function stopDefault(event) {
			event.preventDefault()
		}
		document.getElementById('input').addEventListener('click', stopDefault, false)
		if (emailSintaxValidator()) {
			alert('Valid email')
		} else {
			alert('Invalid email')
		}
	}
</script>

<div>
	<input id="email" name="email">
	<input id="input" type="submit" onclick="verifyEmail()">
</div>